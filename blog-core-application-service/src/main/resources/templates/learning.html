<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>孙玉超个人博客-Java学习</title>
    <meta name="Description" content="孙玉超个人博客是一个分享、研究Java技术的自媒体博客。Java技术栈的学习之路，我和你一起行走！" />
    <meta name="Keywords" content="个人博客,Java技术，Java学习" />
    <link href="../static/css/fontawesome4.7.0/css/font-awesome.css" th:href="@{/css/fontawesome4.7.0/css/font-awesome.css}" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/animate.css}" href="../static/css/animate.css">

    <link href="../static/layui/css/layui.css" th:href="@{/layui/css/layui.css}" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/common.css" th:href="@{/css/common.css}">

    <link rel="stylesheet" th:href="@{/css/selectY.css}">
    <script th:src="${iconfontUrl}"></script>

    <style>


        .content{width: 62%;margin: 0 auto;margin-top: 20px;}
        .content .content-left{float: left;width: 72%;position: relative;}
        .content .content-left .pick li{margin: 0 10px;float: left;}
        .content .content-left .classify-div{position: absolute;right: 30%;width: 150px;}
        #select{position: absolute;top: 0;right: 0;padding: 5px;font-size: 15px;}
        #selectCondition{width: 99.6%;height: 50px;line-height: 50px;background-color: white;margin-bottom: 10px;position: relative;}
        .content .content-left > h2{padding: 5px;border-left: 3px solid blueviolet;margin-bottom: 10px;color:#89919a;font-weight: 600;font-size: 20px;}


        /*文章列表*/
        .article{width: 99%;height: 215px;background-color: white;
            margin-bottom: 10px;
            position: relative;
            border-left: 5px solid transparent;
            transition: box-shadow 1s,border-left 1s;
            -moz-transition: box-shadow 1s,border-left 1s;
            -webkit-transition: box-shadow 1s,border-left 1s;
            -o-transition: box-shadow 1s,border-left 1s;

        }
        .article header h3{display: inline;}
        .article header>span{background-color: #51aded;padding: 3px 8px;color: white;font: 14px Helvetica Neue,Helvetica,PingFang SC,Tahoma,Arial,sans-serif;}
        .article header i{margin-left: -6px;color: #51aded;}

        .article:hover{
            box-shadow: #ccc 1px 1px 4px 4px;
            border-left: 5px solid cornflowerblue;
        }
        header{margin-left: 20px;padding: 20px 0 14px 0;}
        .focus{float: left; width: 220px;margin-left: 20px;}

        .note{color: #999;line-height: 24px;font-style: normal;margin-right: 20px;font-size: 14px;
            text-overflow:ellipsis;overflow: hidden;display: -webkit-box;
            -webkit-line-clamp: 5;
            text-indent: 2em;
            -webkit-box-orient: vertical;}
        .focus-a{overflow: hidden;width: 200px;height: 123px;display: block}
        .picture{
            transition: transform 1s ;
            -moz-transition: transform 1s ;
            -webkit-transition: transform 1s;
            -o-transition: transform 1s ;
        }
        .article:hover .picture{
            transform: scale(1.1);
        }
        .auth-span{position: absolute;right: 0;display: block;bottom: 0;margin-bottom: 10px;}
        .muted{ font-size: 13px;    margin-right: 20px;    color: #999;}
        .muted a{ color: #00a67c;}
        .muted .fa{ font-size: 1.23em;}

        /**/
        .content .content-right{float: right;width: 27%;}
        .content-right>h2{padding: 5px;border-left: 3px solid blueviolet;margin-bottom: 10px;color: #89919a;font-size: 20px;font-weight: 600;}

        .content-right .square{padding: 5px;margin:0 auto;margin-bottom: 10px;position: relative;border-bottom: 1px solid #e7e7e7;
            padding-bottom: 15px;width: 90%;padding-top: 12px;font-weight: bold;}

        .content-right .square::after {
            position: absolute;
            left: 0;
            bottom: 0;
            height: 2.5px!important;
            width: 100px;
            background-color: #51aded;
            content: '';
            transition:width 1s;
            -moz-transition:width 1s; /* Firefox 4 */
            -webkit-transition:width 1s; /* Safari and Chrome */
            -o-transition:width 1s; /* Opera */
        }

        /*鼠标悬停div修改子元素样式*/
        .content-right > div:hover .square:first-child::after{
            width: 200px;
        }
        .notice{padding-bottom: 20px;}
        .notice li{padding: 8px 15px 6px 25px;border-radius: 4px;margin-top: 8px;margin-left: 10px;position: relative;width: 80%;transition: all .5s}
        .notice li:hover{box-shadow: 0 0 10px blue;}
        .notice li span{float: right;margin-right: 5px;}
        .notice li a{display: inline-block;text-overflow:ellipsis;width: 65%;overflow: hidden;white-space:nowrap;}
        .notice li:before {
            position: absolute;
            content: "";
            width: 3px;
            height: 3px;
            background: #000;
            border-radius: 50%;
            left: 10px;
            top: 17px;
        }

        .friend{width: 100%;height: inherit;}
        .friend li{float: left;margin:6px 3px;width: 31%;height: 20px;line-height: 20px;text-align: center; }
        .friend li a{color:#999;}

        @keyframes rotate{
            0%{
                transform:rotateX(0deg) rotateY(0deg);
            }
            100%{
                transform:rotateX(360deg) rotateY(360deg);
            }
        }
        .wrap{width: 60%;margin: 0 auto;perspective: 1000px; /* 视图距元素的距离 相当于摄像机 */}
        .cube{width:120px;height:120px;position:relative;font-size:30px;margin: 0 auto;
            font-weight:bold;text-align:center;line-height:160px;transform-style:preserve-3d; /* 默认flat 2D */transform:rotateX(-30deg) rotateY(-70deg);animation:rotate 20s infinite linear; /*播放时间 播放次数为循环 缓动效果为匀速 */}
        .cube a{color:deepskyblue;}
        .cube  div{width:100%;height:100%;border:1px solid #fff;position:absolute;background-color:#fff;opacity:.6;transition:transform 0.4s ease-in;text-align: center;}
        .cube .out-front{transform: translateZ(60px);}
        .cube .out-back{transform: translateZ(-60px) rotateY(180deg);}
        .cube .out-left{transform: translateX(-60px) rotateY(-90deg);}
        .cube .out-right{transform: translateX(60px) rotateY(90deg);}
        .cube .out-top{transform: translateY(-60px) rotateX(90deg);}
        .cube .out-bottom{transform: translateY(60px) rotateX(-90deg);}
        .cube > span{display:block;width:60px;height:60px;border:1px solid black;background-color:#999;position:absolute;top:30px;left:30px;}
        .cube .in-front{transform: translateZ(30px);}
        .cube .in-back{transform: translateZ(-30px) rotateY(180deg);}
        .cube .in-left{transform: translateX(-30px) rotateY(-90deg);}
        .cube .in-right{transform: translateX(30px) rotateY(90deg);}
        .cube .in-top{transform: translateY(-30px) rotateX(90deg);}
        .cube .in-bottom{transform: translateY(30px) rotateX(-90deg);}
        .wrap:hover .out-front{transform: translateZ(120px);}
        .wrap:hover .out-back{transform: translateZ(-120px) rotateY(180deg);}
        .wrap:hover .out-left{transform: translateX(-120px) rotateY(-90deg);}
        .wrap:hover .out-right{transform: translateX(120px) rotateY(90deg);}
        .wrap:hover .out-top{transform: translateY(-120px) rotateX(90deg);}
        .wrap:hover .out-bottom{transform: translateY(120px) rotateX(-90deg);}


        .new-reply li {padding-left: 20px;width: 90%;margin-top: 10px;}
        .new-reply .item {border-bottom: 1px solid #ccc;padding-bottom: 10px;}
        .new-reply .item .item-left{float: left;margin-right: 10px;width: 20%;}
        .new-reply .item .item-right{float: right;width: 75%;line-height: 23px;}
        .new-reply .item .item-right h3 a{font-size: 15px;color: #d32;font-weight: 600;}
        .new-reply .item .item-right p{color:#777;}
        .new-reply .item .item-right .reply-msg{overflow: hidden;text-overflow:ellipsis;}
        .new-reply .item .item-right .reply-msg span{white-space: nowrap;}
        /*小屏幕 1366 x 768*/
        @media screen and (max-width: 1366px) {
            .content {
                width: 88%;
            }

        }

        /*手机小屏幕*/
        @media screen and (max-width: 980px) {
            .notice li a{width:55%;}
            .new-reply .item .item-right{width:70%;}
            .new-reply .item .item-left{width:50px;height: 50px;}
            .new-reply .item .item-left .radius{width: 50px;height: 50px;}
            #title-search input{width: 130px;}
            #title-search button{width: 60px;}
        }
        /*分类样式(首页修改,不动源码)*/
        .selectY-box .pop ul li{padding: 0 0 0 20px;line-height: 40px;}
        .selectY-box .pop ul li.child-row:after{top:0;}

        .content .motto{padding: 5px;margin:0 auto;margin-bottom: 20px;position: relative;border-bottom: 1px solid #ccc;
            color:#526163;font-weight: bold;font-size: 15px;overflow: hidden;padding-bottom: 10px;}
        .content .motto::after {
            position: absolute;
            left: 0;
            bottom: 0;
            height: 2.5px!important;
            width: 100px;
            background-color: #51aded;
            content: '';
            transition:width 2s;
            -moz-transition:width 2s; /* Firefox 4 */
            -webkit-transition:width 2s; /* Safari and Chrome */
            -o-transition:width 2s; /* Opera */
        }
        .content:hover .motto:first-child::after{
            width: 600px;
        }
        .layui-main{width:150px !important}
        #title-search{float: right;display: inline-block;margin-right: 10px;}

    </style>
</head>
<body>

<!--搜索-->
<div th:replace="index :: search"></div>
<!--右下角固定-->
<div th:replace="index :: permanent"></div>
<div class="top">
    <div class="top-center">
        <div class="top-center-l">
            <img th:src="@{http://www.sunyuchao.com/files/img/__${logoName}__}">
        </div>
        <div class="top-center-c">
            <ul class="nav">
                <li><a href="/">首&nbsp;&nbsp;页</a></li>
                <li class="nav-this"><a href="#">爱学习</a></li>
                <li><a href="/life">微动态</a></li>
                <li><a href="/onlineutils">工具集</a></li>
                <li><a href="/aboutme">关于我</a></li>
                <li><a href="/message">留言板</a></li>
            </ul>
        </div>
        <div th:replace="index :: top-center-r" class="top-center-r"></div>

    </div>
</div>

<div class="content">
    <h1 class="motto">
        <span class="f-right">一叶扁舟随风而去，心若定水亦静 ———— 修仙缘</span>
    </h1>
    <div class="content-left">
        <h2>学习<span style="color: red;">推荐</span></h2> <a href="javascript:;" id="select">筛选<i class="layui-icon layui-icon-add-1"></i></a>
        <div id="selectCondition">
            <div class="classify-div">
                <div class="layui-main" >
                    <div class=""><input type="hidden" id="bread" th:value="${bread}"/></div>
                </div>
            </div>
            <input type="hidden" name="field" id="field" th:value="${field}">
            <ul class="pick">
                <li><a id="default" onclick="queryData(this,'default')" href="javascript:;">默认</a></li>
                <li><a id="dateInsert" onclick="queryData(this,'dateInsert')" href="javascript:;"><i class="fa fa-arrow-down"></i>发布时间</a></li>
                <li><a id="browser" onclick="queryData(this,'browser')" href="javascript:;"><i class="fa fa-arrow-down"></i>浏览人数</a></li>
                <li><a id="collectionCount" onclick="queryData(this,'collectionCount')" href="javascript:;"><i class="fa fa-arrow-down"></i>收藏人数</a></li>
                <li><a id="commentCount" onclick="queryData(this,'commentCount')" href="javascript:;"><i class="fa fa-arrow-down"></i>评论人数</a></li>
            </ul>
            <div id="title-search">
                <div class="layui-input-inline">
                    <input th:value="${keyword}" type="text" id="keyword" placeholder="请输入关键词搜索" autocomplete="off" class="layui-input">
                </div>
                <div class="layui-input-inline">
                    <button onclick="searchByKeyword()" class="layui-btn layui-btn-normal"><i class="layui-icon layui-icon-search"></i></button>
                </div>

            </div>
        </div>

        <div th:if="${not #lists.isEmpty(articleList)}" th:each="article : ${articleList}" class="article">
            <header>
                <span th:text="${article.classifyName}"></span><i class="layui-icon layui-icon-triangle-r"></i>
                <h3><a th:text="${article.title}" th:href="@{/article/__${article.id}__}"></a></h3>
            </header>
            <div class="focus">
                <a th:href="@{/article/__${article.id}__}" class="focus-a"><img class="picture" th:src="@{http://www.sunyuchao.com/files/img/__${article.imageUrl}__}" height="123" width="200"></a>
            </div>
            <div class="note" th:text="${article.description}"></div>
            <p class="auth-span">
                <span class="muted"><i class="fa fa-user"></i> <a href="javascript:;" th:text="${article.username}"></a></span>
                <span class="muted"><i class="fa fa-clock-o"></i> <a href="javascript:;" th:text="${#dates.format(article.dateInsert, 'yyyy-MM-dd')}"></a></span>
                <span class="muted"><i class="fa fa-eye"></i> <a th:text="${article.browser}"></a>浏览</span>
                <span class="muted"><i class="fa fa-comment-o"></i> <span th:text="${article.commentCount}"></span>评论</span>
                <span class="muted"><i class="fa fa-heart-o"></i> <span th:text="${article.collectionCount}"></span>喜欢</span>
            </p>
        </div>
        <div th:if="${not #lists.isEmpty(articleList)}" class="layui-btn-container">
            <a href="javascript:;" th:onclick="'flipPage(this,'+${page-1}+')'" th:class="${page == 1 ? 'layui-btn layui-btn-disabled':'layui-btn'}"> <i class="layui-icon layui-icon-left"></i></a>
            <a href="javascript:;" th:onclick="'flipPage(this,'+${num}+')' "  th:class="${num == page ? 'layui-btn layui-btn-normal':'layui-btn'}" th:each="num : ${pageNumList}" th:text="${num}"></a>
            <a href="javascript:;" th:onclick="'flipPage(this,'+${page+1}+')'" th:class="${page == pageTotal ? 'layui-btn layui-btn-disabled':'layui-btn'}"> <i class="layui-icon layui-icon-right"></i></a>
        </div>
        <div th:if="${#lists.isEmpty(articleList)}">
            <div th:replace="index :: blank"></div>
        </div>
    </div>
    <div class="content-right">
        <h2 class="animated lightSpeedIn">技术<span style="color: red;">专栏</span></h2>
        <div style="height: 150px;margin-top: 30px;">
            <div class="wrap">
                <div class="cube">
                    <a th:each="map : ${zhuanlanList}" th:href="@{/learning(bread=${map.value.name})}">
                        <div  th:class="${map.key}" th:text="${map.value.name}"></div>
                    </a>
                    <span class="in-front"></span>
                    <span class="in-back"></span>
                    <span class="in-left"></span>
                    <span class="in-right"></span>
                    <span class="in-top"></span>
                    <span class="in-bottom"></span>
                </div>
            </div>
        </div>
        <div style="background-color: white;margin-top: 20px;">
            <h3 class="square">最新文章</h3>
            <div>
                <ul class="notice">
                    <li th:each="latest : ${articleTitleList}"><a th:href="@{/article/__${latest.id}__}" th:text="${latest.title}"></a><span th:text="${#dates.format(latest.dateInsert, 'yyyy-MM-dd')}"></span></li>
                </ul>
            </div>

        </div>
        <div style="margin-top: 20px;background-color: white;">
            <h3 class="square">在线工具</h3>
            <div>
                <ul class="notice">
                    <li th:each="util : ${onlineUtilsList}"><a th:href="${util.url+'?bindId='+util.id}" th:text="${util.title}"> </a><span th:text="${#dates.format(util.dateUpdate, 'yyyy-MM-dd')}"></span></li>
                </ul>
            </div>

        </div>
        <div style="background-color: white;padding-bottom: 10px;margin-top: 20px;">
            <h3 class="square">最新评论</h3>
            <div>
                <ul class="new-reply">
                    <li th:each="lucom : ${latestCommentList}">
                        <div class="item">
                            <div class="item-left">
                                <img th:if="${lucom.identityType == 'EMAIL'}" class="radius" th:src="@{http://www.sunyuchao.com/files/img/__${lucom.avatar}__}" width="60" height="60">
                                <img th:if="${lucom.identityType == 'QQ'}" class="radius" th:src="${lucom.avatar}" width="60" height="60">
                            </div>
                            <div class="item-right">
                                <h3><a href="#" th:text="${lucom.username}"></a></h3>
                                <p class="reply-msg"><span th:utext="${lucom.content}"></span></p>
                                <p><span th:text="${#dates.format(lucom.dateInsert, 'yyyy年MM月dd日 HH:mm:ss')}"></span></p>
                            </div>
                            <div class="layui-clear"></div>
                        </div>
                    </li>
                </ul>
            </div>

        </div>
        <div style="margin-top: 20px;background-color: white;padding-bottom: 30px;">
            <h3 class="square">友情链接</h3>
            <div>
                <ul class="friend">
                    <li th:each="link : ${friendLinkList}"><a th:href="${link.url}" th:text="${link.title}">小鱼儿网</a></li>
                </ul>
                <div class="layui-clear"></div>
            </div>
        </div>
    </div>
</div>

<div class="footer">
    <p>Design by：暮色妖娆丶 备案号：皖ICP备19018192号</p>
</div>



<script src="../static/layui/layui.js" th:src="@{/layui/layui.js}"></script>
<script th:src="@{/js/jquery3.3.1.min.js}"></script>
<script>

    //文本框回车
    $("#keyword").keypress(function (e) {
        if (e.which == 13) {
            searchByKeyword();
        }
    });
    /**
     * 关键词搜索
     * */
    function searchByKeyword() {
        var keyword= $("#keyword").val();

        window.location.href="/learning?field="+$("#field").val()+"&bread="+$("#bread").val()+"&keyword="+keyword
    }

    //翻页
    function flipPage(obj,page) {
        var keyword= $("#keyword").val();
        if($(obj).hasClass("layui-btn-disabled")){
            return;
        }
        window.location.href='/learning?page='+page+"&field="+$("#field").val()+"&bread="+$("#bread").val()+"&keyword="+keyword
    }
    /**
     * 条件筛选文章
     * */
    function queryData(obj,field) {
        var bread = $("#bread").val();
        if(field == "default"){
            field=field+",default";
            bread="";
        }else{
            if(($(obj).find(".fa-arrow-down").length > 0 && $(obj).attr("active") != "active")
                || ($(obj).find(".fa-arrow-up").length > 0 && $(obj).attr("active") == "active")
            ){
                field=field+",desc";
            }else{
                field=field+",asc";
            }
        }
        $("#field").val(field);
        var keyword= $("#keyword").val();
        window.location.href="/learning?field="+field+"&bread="+bread+"&keyword="+keyword;
    }
    layui.config({base:'/layui/extends/'});
    layui.use(['layer','element','selectY'],function () {
        var layer = layui.layer,
            element = layui.element,
            selectY = layui.selectY,
            $ = layui.jquery;



        selectY({
            elem:'#bread',
            url:"/article/classify/queryClassifyTree?id=1",
            placeholder:'请选择文章分类',
            disabledTips:'当前分类暂时维护',
            success:function(e){    //e--> data(层级name)   ids[id1,id2,idn...](层级Id)
                var bread = e.data;//分类
                var field = $("#field").val();
                var keyword = $("#keyword").val();
                window.location.href="/learning?field="+field+"&bread="+bread+"&keyword="+keyword;
            },dataType:"json"
        });

        /*点击筛选*/
        $("#select").click(function () {
            var child = $(this).children()[0];
            var open="layui-icon-add-1";
            var close="layui-icon-close";
            if($(child).hasClass(open)){
                $(child).removeClass(open);
                $(child).addClass(close);
                $("#selectCondition").slideDown();
            }else{
                $(child).removeClass(close);
                $(child).addClass(open);
                $("#selectCondition").slideUp();
            }

        });
    });
</script>

<!--网页点击爱心-->
<script th:src="@{js/heart.js}"></script>
<script th:src="@{js/common.js}"></script>
<script>
    /*鼠标滚动时候，文章列表渐渐显示*/
    $(window).scroll(function () {
        $('.article').each(function (obj) {
            if ($(this).offset().top < $(window).height()) {

            } else {
                if (($(window).height() + $(document).scrollTop()) >= $(this).offset().top +20) {
                    $(this).addClass('animated fadeInUp');
                }
            }

        })

    });

    $(function () {
        var field = $("#field").val();

        var bread = $("#bread").val();
        if(field != "default,default" || bread != "技术") {
            $("#selectCondition").show();
        }
        var arr = field.split(",");

        $("#"+arr[0]).css("color","#008ff4");
        $("#"+arr[0]).attr("active","active");//选中
        if(arr[0] != "default"){
            if(arr[1] == "desc"){
                $(`#${arr[0]} i`).removeClass("fa-arrow-up");
                $(`#${arr[0]} i`).addClass("fa-arrow-down");
            }else{
                $(`#${arr[0]} i`).removeClass("fa-arrow-down");
                $(`#${arr[0]} i`).addClass("fa-arrow-up");
            }
        }


    });
</script>
</body>
</html>